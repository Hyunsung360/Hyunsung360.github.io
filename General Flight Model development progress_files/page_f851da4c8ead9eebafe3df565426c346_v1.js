
; /* Start:"a:4:{s:4:"full";s:91:"/local/components/eagle/subscribe.subscribe/templates/.default/script.min.js?16364806411415";s:6:"source";s:72:"/local/components/eagle/subscribe.subscribe/templates/.default/script.js";s:3:"min";s:0:"";s:3:"map";s:0:"";}"*/
function SuccessfulSubscribe(a,t){$(a).find('button[type="submit"]').attr("disabled",""),$(a).hide().next(".js-send-check-subscribe").show()}function ErrorSubscribe(a,t){console.log(t)}function initFormSubscribe(a,t){t.preventDefault();var e=$(a),r=e.find("input[name=EMAIL]");r.removeClass("error");var l=ValidMail(r.val());l||r.addClass("error"),l&&(e.find('button[type="submit"]').attr("disabled","disabled"),e.find('button[type="submit"] .js-loader').show(),ajax_form_handler(a,t))}function ValidMail(a){return/^[\w-\.]+@[\w-]+\.[a-z]{2,4}$/i.test(a)}function ajax_form_handler(a,t){var e=$(a),r=e.serialize(),l=e.attr("action"),a=e.attr("method");if(void 0===a&&(a="POST"),"Y"==e.attr("data-parent-loader"))for(var n=e,s=n.find(".js-loader");0==s.length;)n=n.parent(),s=n.find(".js-loader");else s=e.find(".js-loader");var c=e.attr("data-callback-success"),o=e.attr("data-callback-error");s.addClass("showed");var i=!1;$.ajax({url:l,type:a,data:r,success:function(a){var t=JSON.parse(a);"error"==t.status?callback=o:"ok"==t.status&&(callback=c);t=e.attr("data-custom-onsubmit");""!=t&&new Function(t)(),""!=callback&&null!=callback&&(callback=JSON.parse(callback),""==callback.function||"function"==typeof(t=window[callback.function])&&("Y"==callback.params?t.apply(null,[e,JSON.parse(a)]):t())),s.removeClass("showed")},beforeSend:function(){if(i)return!1;i=!0},complete:function(){i=!1}}),t.preventDefault()}
/* End */
;; /* /local/components/eagle/subscribe.subscribe/templates/.default/script.min.js?16364806411415*/
